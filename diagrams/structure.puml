@startuml

class Greenhouse {
  -ldr : LDR
  -dht : DHT11Sensor
  -persianas : ServoActuator
  -riego : ServoActuator
  -wifi : WifiManager
  -mqtt : MQTTClient
  -currentLuxState : int
  -currentTempState : int
  +begin() : void
  +monitorAndControl() : void
}

class Sensor {
  +readData() : float
  +getState() : int
}

class LDR {
  +readData() : float
  +getState() : int
}

class DHT11Sensor {
  +begin() : void
  +readData() : float
  +getState() : int
}

class Actuator {
  +activate() : void
  +deactivate() : void
}

class ServoActuator {
  +attach() : void
  +activate() : void
  +deactivate() : void
  +moveTo(position: int) : void
}

class WifiManager {
  +connect() : void
  +isConnected() : bool
}

class MQTTClient {
  +setCallback(cb: function) : void
  +connect(clientId: const char*) : bool
  +loop() : void
  +publishState(luxState: int, tempState: int) : void
}

Sensor <|-- LDR
Sensor <|-- DHT11Sensor
Actuator <|-- ServoActuator

Greenhouse --> LDR
Greenhouse --> DHT11Sensor
Greenhouse --> ServoActuator
MQTTClient --> WifiManager
Greenhouse --> MQTTClient

@enduml