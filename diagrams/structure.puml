@startuml
class Greenhouse {
  -ldr : LDR
  -dht11 : DHT11
  -servoPersianas : Servo
  -servoRiego : Servo
  -mqtt : MQTT
  +monitorAndControl() : void
}

class Sensor {
  +readData() : float
  +getState() : int
}

class LDR {
  +readData() : float
  +getState() : int
}

class DHT11 {
  +readTemperature() : float
  +getState() : int
}

class Actuator {
  +activate() : void
  +deactivate() : void
}

class Servo {
  +moveTo(position: int) : void
}

class MQTT {
  -wifiManager : WifiManager
  +connect() : bool
  +publish(topic: String, payload: String) : void
  +subscribe(topic: String) : void
  +receiveMessage() : String
}

class WifiManager {
  +setNetwork(ssid: String, password: String) : void
  +connect() : bool
}

Sensor <|-- LDR
Sensor <|-- DHT11
Actuator <|-- Servo

Greenhouse --> LDR
Greenhouse --> DHT11
Greenhouse --> Servo
Greenhouse --> MQTT

MQTT --> WifiManager
@enduml